<ad-title><$ settings title /></ad-title>

<style>
    html:not([theme=dark]) .root .main
    {
        background: var(--gray-6);
    }
    .list
    {
        max-width: 800px;
    }
    #Settings_Account
    {
        display: grid;
        grid-auto-flow: column;
        grid-auto-columns: 8em auto;
        margin: 1.5em 0 2em;
        align-items: center;
        gap: 1.5em;
    }
        #Settings_Account img
        {
            width: 100%;
            aspect-ratio: 1 / 1;
            border-radius: 100%;
        }
        #Settings_Account .details
        {
            display: block;
        }
            #Settings_Account .details .name
            {    
                font-size: 1.5em;
                font-family: var(--font-semibold);
            }
            #Settings_Account .details .description
            {    
                font-size: 1.5em;
                font-family: var(--font-semibold);
                color: var(--foreground-description);
            }
            #Settings_Account .details button
            {
                margin: 1em 0 0;
            }
    #Settings_Accents
    {
        display: grid;
        grid-auto-flow: column;
        gap: 2px;
    }
        #Settings_Accents .color
        {
            width: 25px;
            height: 25px;
            border-radius: 100%;
            outline: 2px solid transparent;
            transition: 0.4s var(--key-animation) outline, 0.4s var(--key-animation) transform;
        }
        #Settings_Accents .color:hover
        {
            outline: 2px solid var(--text);
        }
        #Settings_Accents .color:active
        {
            transform: scale(0.8);
        }
        #Settings_Accents .color[accent=red]
        {
            background: #ff3b30;
        }
        #Settings_Accents .color[accent=yellow]
        {
            background: #ffcc00;
        }
        #Settings_Accents .color[accent=green]
        {
            background: #34c759;
        }
        #Settings_Accents .color[accent=cyan]
        {
            background: #32ade6;
        }
        #Settings_Accents .color[accent=blue]
        {
            background: #007aff;
        }
        #Settings_Accents .color[accent=indigo]
        {
            background: #5856d6;
        }
        #Settings_Accents .color[accent=purple]
        {
            background: #af52de;
        }
</style>

<div class="header">
    <div class="title"><$ settings title /></div>
</div>

<div class="content">
    <div class="list" ad-header="<$ settings appearance />" ad-footer="">
        <div class="stack">
            <div><$ settings theme /></div>
            <select class="plain" name="theme" id="Select_Theme">
                <option value="system"><$ settings theme_system /></option>
                <option value="light"><$ settings theme_light /></option>
                <option value="dark"><$ settings theme_dark /></option>
            </select>
        </div>
        <div class="stack">
            <div><$ settings accent_color /></div>
            <div id="Settings_Accents">
                <div class="color" accent="red"></div>
                <div class="color" accent="yellow"></div>
                <div class="color" accent="green"></div>
                <div class="color" accent="cyan"></div>
                <div class="color" accent="blue"></div>
                <div class="color" accent="indigo"></div>
                <div class="color" accent="purple"></div>
            </div>
        </div>
        <div class="stack">
            <div><$ settings language /></div>
            <select class="plain" name="language" id="Select_Language">
                <option value="en">English</option>
                <option value="id">Bahasa Indonesia</option>
                <option value="kr">Korean (한국어)</option>
                <option value="jp">Japanese (日本語)</option>
            </select>
        </div>
    </div>
    <div class="list" ad-header="<$ settings about_app />" ad-footer="">
        <div class="stack">
            <div><$ settings git_repository /></div>
            <button class="plain" goto="https://github.com/agapedimas/drill" ad-type="newtab">
                <span>agapedimas/drill</span>
                <span class="icon">&#xebad;</span>
            </button>
        </div>
        <div class="stack">
            <div><$ settings version /></div>
            <div style="opacity: 0.6"><#? appversion ?#></div>
        </div>
        <div class="stack vertical">
            <div><$ settings copyright /></div>
            <div style="opacity: 0.6;">© 2025 Agape Dimas. <$ settings copyright_text /></div>
        </div>
    </div>
</div>


<script>
    Select_Theme.value = localStorage.getItem("theme");
    $("#Settings_Accents .color").on("click", function () { Color_Change(this.getAttribute("accent")) });
    Select_Theme.onchange = function () { Theme_Change(this.value) }

    function Color_Change(accent)
    {
        localStorage.setItem("accent", accent);
        CheckAccent();
    }

    function Theme_Change(theme)
    {
        localStorage.setItem("theme", theme);
        CheckTheme();
    }
    
    Select_Language.value = document.documentElement.lang;
    Select_Language.onchange = async function()
    {
        await $.post("/language/", { language: this.value });
        window.location.reload();
    }
</script>